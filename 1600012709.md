# 1st homework

2.61
!(x + 1) || !x || !((x & 0xff) ^ 0xff) || !(x & (0xff << ((sizeof(int) << 3) - 8)))

2.62
int int_shifts_are_arithmetic()
{
	return !(((~0) >> ((sizeof(int) << 3) - 1)) + 1);
}

2.65
int odd_ones(unsigned x)
{
	int a = (x >> 16) ^ x;
	int b = (a >> 8) ^ a;
	int c = (b >> 4) ^ b;
	int d = (c >> 2) ^ c;
	int e = (d >> 1) ^ d;
	return !(e & 1);
}

### 第一次作业反馈

第一题：正确  
第二题：正确  
第三题：有误
2.65
int odd_ones(unsigned x)
{
	int a = (x >> 16) ^ x;
	int b = (a >> 8) ^ a;
	int c = (b >> 4) ^ b;
	int d = (c >> 2) ^ c;
	int e = (d >> 1) ^ d;
	return e & 1;
}



# 2nd homework

2.88
208         0 1110 1010    208
-7/1024     1 0000 0111    -7/1024
5/131072    0 0000 0001    1/1024
-4096       1 1110 1111    -248
768         0 1111 0000    +∞

2.92
float_bits float_negate(float_bits f)
{
	unsigned exp = f >> 23 & 0xff;
	unsigned frac = f & 0x7fffff;
	if (!(exp ^ 0xff) && frac)
		return f;
	return f ^ 0x80000000;
}

2.96
int float_f2i(float_bits f)
{
	unsigned sign = f >> 31;
	int exp = f >> 23 & 0xff;
	unsigned frac = f & 0x7fffff;
	if (!(exp ^ 0xff))
		return 0x80000000;
	exp -= 127;
	if (exp < 0)
		return 0;
	exp -= 23;
	if (exp > 7)
		return 0x80000000;
	frac |= 0x800000;
	if (exp < 0)
		frac = frac >> (-exp);
	else if (exp > 0)
		frac = frac << exp;
	if (sign)
	{
		frac = ~frac + 1;
		return *((int *)&frac);
	}
	else
		return frac;
}

### 第二次作业反馈

第一题：有两个错误  
第二题：正确  
第三题：



# 3rd homework
